<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Booha Study Decks – January Week 1</title>
<meta name="theme-color" content="#000000">
<link rel="icon" type="image/png" href="booha-ghost.png">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&display=swap" rel="stylesheet" />
<style>
:root{
  --pink:#ff7eb9;
  --blue:#5ee6ff;
  --yellow:#fff680;
  --purple:#c77dff;
  --ink:#fff;

  --outline:#000;
  --outlineW:12px;      /* thicker hides edges */
  --tileR:30px;         /* rounder corners */

  /* ✅ smaller + safer text */
  --enSize:clamp(16px, 1.7vw, 20px);
  --jpSize:clamp(13px, 1.35vw, 16px);
  --tilePad:14px;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{
  height:100%;
  font-family:'Cinzel',serif;
  background:#000;
  color:var(--ink);
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

#welcome{
  min-height:100svh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:28px 18px 18px;
  gap:18px;
  animation:fadeIn 1.2s ease-in;
}

h1{font-size:clamp(32px,5vw,60px);letter-spacing:1px;font-weight:900;}
h2{font-size:clamp(22px,3vw,36px);font-weight:800;color:#ccc;}
h3{font-size:clamp(18px,2.5vw,28px);color:#aaa;margin-top:6px;}

.deck-links{
  display:flex;
  gap:1.2rem;
  flex-wrap:wrap;
  justify-content:center;
  padding:10px 0 6px;
}

/* =========================
   TILE
   ========================= */
a.deck{
  width:168px;height:168px;
  border-radius:var(--tileR);
  text-decoration:none;
  color:#111;
  font-weight:900;

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;

  position:relative;
  overflow:hidden; /* keep inner shimmer clean */
  -webkit-tap-highlight-color:transparent;
  user-select:none;
  touch-action:manipulation;

  padding:var(--tilePad);
  text-align:center;

  background-size:320% 320%;
  animation:stripes 10s linear infinite;

  box-shadow:
    0 22px 48px rgba(0,0,0,.72),
    0 0 0 2px rgba(255,255,255,.10) inset;

  transition:transform .18s ease, box-shadow .25s ease, filter .25s ease;
}

/* ✅ BIG CIRCULAR AURA BEHIND TILE (hides any square feeling) */
a.deck .aura{
  position:absolute;
  left:50%;
  top:50%;
  width:230%;
  height:230%;
  transform:translate(-50%,-50%);
  border-radius:999px;           /* ✅ always a circle */
  z-index:1;
  pointer-events:none;
  opacity:0;
  filter:blur(18px);
  mix-blend-mode:screen;
}

/* ✅ OUTLINE ON TOP */
a.deck::before{
  content:"";
  position:absolute;
  inset:0;
  border:var(--outlineW) solid var(--outline);
  border-radius:inherit;
  z-index:10;
  pointer-events:none;
}

/* Base gradients */
a.deck:nth-child(1){background:linear-gradient(145deg,var(--pink),#ffc0cb,var(--purple));}
a.deck:nth-child(2){background:linear-gradient(145deg,var(--blue),#c0ffff,var(--purple));}
a.deck:nth-child(3){background:linear-gradient(145deg,var(--yellow),#fff7b2,var(--pink));}

/* Text */
a.deck .t-en{
  font-size:var(--enSize);
  font-weight:900;
  letter-spacing:.06em;
  line-height:1.05;
  padding:2px 6px;               /* ✅ extra safety */
  text-shadow:
    0 1px 0 rgba(255,255,255,.55),
    0 0 14px rgba(255,255,255,.30);
  z-index:6;
}
a.deck .t-jp{
  font-size:var(--jpSize);
  font-weight:900;
  line-height:1.05;
  padding:0 6px;
  text-shadow:0 0 10px rgba(255,255,255,.22);
  z-index:6;
}

/* Hover (desktop) */
a.deck:hover{transform:scale(1.05);filter:brightness(1.12);}

/* Footer */
footer{
  margin-top:10px;
  padding:8px 0 18px;
  width:100%;
  text-align:center;
  font-size:clamp(14px,2vw,18px);
  color:#888;
  letter-spacing:1px;
  opacity:.9;
}

/* animations */
@keyframes stripes{0%{background-position:0 0;}100%{background-position:300% 300%;}}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}

/* press */
a.deck.tap{transform:scale(.96);}

/* party while music plays */
a.deck.playing{
  transform:scale(1.08) rotate(-1.4deg);
  filter:brightness(1.25) saturate(1.40);
  animation:
    stripes 1.8s linear infinite,
    wiggle .18s ease-in-out infinite,
    flash  .28s linear infinite;
}

/* ✅ Aura ON + SUPER BRIGHT (circle hides edges) */
a.deck.playing .aura{ opacity:1; }

/* aura colors */
a.deck.playing.fx-pink .aura{
  background:
    radial-gradient(circle at 50% 50%,
      rgba(255,126,185,1) 0%,
      rgba(255,126,185,.85) 25%,
      rgba(255,126,185,.45) 55%,
      rgba(255,126,185,0) 75%);
}
a.deck.playing.fx-blue .aura{
  background:
    radial-gradient(circle at 50% 50%,
      rgba(94,230,255,1) 0%,
      rgba(94,230,255,.85) 25%,
      rgba(94,230,255,.45) 55%,
      rgba(94,230,255,0) 75%);
}
a.deck.playing.fx-yellow .aura{
  background:
    radial-gradient(circle at 50% 50%,
      rgba(255,246,128,1) 0%,
      rgba(255,246,128,.88) 25%,
      rgba(255,246,128,.48) 55%,
      rgba(255,246,128,0) 75%);
}

/* stronger glow (kept, but aura does most of the work) */
a.deck.playing.fx-pink{ box-shadow:0 26px 56px rgba(0,0,0,.75), 0 0 55px rgba(255,126,185,.98), 0 0 160px rgba(255,126,185,.70), 0 0 320px rgba(255,126,185,.30); }
a.deck.playing.fx-blue{ box-shadow:0 26px 56px rgba(0,0,0,.75), 0 0 55px rgba(94,230,255,.98), 0 0 160px rgba(94,230,255,.70), 0 0 320px rgba(94,230,255,.30); }
a.deck.playing.fx-yellow{ box-shadow:0 26px 56px rgba(0,0,0,.75), 0 0 55px rgba(255,246,128,.98), 0 0 180px rgba(255,246,128,.72), 0 0 360px rgba(255,246,128,.32); }

/* shimmer UNDER outline, UNDER text */
a.deck.playing::after{
  content:"";
  position:absolute;
  inset:-40%;
  z-index:2;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,255,255,.85), transparent 55%),
    radial-gradient(circle at 85% 80%, rgba(255,255,255,.55), transparent 62%),
    conic-gradient(from 0deg, rgba(255,255,255,0), rgba(255,255,255,.50), rgba(255,255,255,0));
  mix-blend-mode:screen;
  opacity:.90;
  animation: shimmer .45s linear infinite;
  pointer-events:none;
}

/* keep aura behind shimmer/text */
a.deck .aura{ z-index:0; }
a.deck.playing::after{ z-index:2; }
a.deck .t-en, a.deck .t-jp{ position:relative; }
a.deck > *{position:relative;}

/* keyframes */
@keyframes shimmer{0%{transform:translateY(14px) rotate(0deg)}100%{transform:translateY(-14px) rotate(18deg)}}
@keyframes wiggle{0%{transform:scale(1.08) rotate(-2deg)}50%{transform:scale(1.08) rotate(2deg)}100%{transform:scale(1.08) rotate(-2deg)}}
@keyframes flash{0%{filter:brightness(1.22) saturate(1.35)}50%{filter:brightness(1.40) saturate(1.60)}100%{filter:brightness(1.22) saturate(1.35)}}

/* small screens: slightly smaller tiles + safer padding */
@media (max-width:420px){
  a.deck{width:154px;height:154px;padding:12px;}
}

/* accessibility */
@media (prefers-reduced-motion:reduce){
  a.deck.playing{animation:none;}
  a.deck.playing::after{animation:none;}
}
</style>
</head>
<body>

<audio id="clickBgm" preload="auto">
  <source src="studydeck.mp3" type="audio/mpeg">
</audio>

<section id="welcome">
  <h1>Booha Study Decks</h1>
  <h2>ブーハー・スタディデッキ</h2>
  <h3>January Week 1 Card Decks<br>１月第１週カードデッキ</h3>

  <div class="deck-links">
    <!-- ✅ links to week1 paths -->
    <a class="deck" data-fx="fx-pink" href="week1/vocab.html">
      <span class="aura" aria-hidden="true"></span>
      <div class="t-en">VOCABULARY</div>
      <div class="t-jp">語彙</div>
    </a>

    <a class="deck" data-fx="fx-blue" href="week1/sentences.html">
      <span class="aura" aria-hidden="true"></span>
      <div class="t-en">SENTENCES</div>
      <div class="t-jp">文</div>
    </a>

    <a class="deck" data-fx="fx-yellow" href="week1/questions.html">
      <span class="aura" aria-hidden="true"></span>
      <div class="t-en">QUESTIONS</div>
      <div class="t-jp">質問</div>
    </a>
  </div>

  <footer>Bryan's English School</footer>
</section>

<script>
const clickBgm = document.getElementById('clickBgm');

function stopClickBgm(){
  try{ clickBgm.pause(); }catch{}
  try{ clickBgm.currentTime = 0; }catch{}
}

async function playThenGo(anchor){
  const url = anchor.getAttribute('href');

  anchor.classList.add('tap');
  setTimeout(()=>anchor.classList.remove('tap'), 180);

  if(anchor.classList.contains('playing')) return;

  document.querySelectorAll('a.deck.playing').forEach(el=>{
    el.classList.remove('playing','fx-pink','fx-blue','fx-yellow');
  });

  stopClickBgm();

  const fx = anchor.dataset.fx || '';
  anchor.classList.add('playing');
  if(fx) anchor.classList.add(fx);

  let navigated=false;
  const go=()=>{
    if(navigated) return;
    navigated=true;
    window.location.href=url;
  };

  clickBgm.onended = go;

  const fallback = setTimeout(go, 700);

  try{
    clickBgm.volume = 0.95;
    clickBgm.currentTime = 0;
    await clickBgm.play();
    clearTimeout(fallback);
    setTimeout(go, 5200);
  }catch(e){
    go();
  }
}

document.querySelectorAll('a.deck').forEach(a=>{
  a.addEventListener('click',(e)=>{
    e.preventDefault();
    playThenGo(a);
  });
});
</script>

</body>
</html>
